---
layout: post
title: windows下的多线程与同步方法
discription: 
tags: windows
---

多线程：多线程是将程序执行分布到多个线程中同时执行，加快程序的运行效率，提高并发性  
  
线程使用线程上下文记录线程的执行状态，包括堆栈，cpu寄存器状态和在系统调度执行列表的入口  
  
一个进程由多个线程、代码执行段、数据和其他相关资源组成。进程中的线程共享进程所有资源  
  
MFC多线程程序中的线程分为工作者线程与界面线程，  
  
    工作线程：完成后台处理任务  
  
    用户界面线程：通常处理用户输入，响应用户发送的事件和消息  
  
win32不区分这两种线程  
  
同步对象：资源是否空闲一般由同步对象来控制，等待函数返回会修改关键资源状态，标记为已使用，直到调用同步对象的释放函数  
  
使用Mutex互斥对象：表示线程对指定资源访问锁定  

信号量：允许线程同时访问一个或多个进程资源，可指定同时访问资源的线程最大个数，但是对于资源写操作，信号量计数不得超过1  

使用Event事件对象：事件对象用来表示对象是否有信号，有信号表空闲  

使用critical关键段对象：又称临界区，允许一个线程在同一时间访问一个资源或关键源码的同步对象  
